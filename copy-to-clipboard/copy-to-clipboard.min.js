const ICON_DEFAULT="content_copy",ICON_SUCCESS="check",RESET_MS=1200;function getCopyText(t){if(t.dataset.copyTarget){let e=document.querySelector(t.dataset.copyTarget);return e?.textContent?.trim()||""}let o=t.closest("[data-copy]")||t.parentElement?.querySelector("[data-copy]");return o?o.getAttribute("href")||o.textContent.trim():""}function fallbackCopy(t){let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",e.style.pointerEvents="none",document.body.appendChild(e),e.select();let o=document.execCommand("copy");return e.remove(),o}document.addEventListener("click",async t=>{let e=t.target.closest(".copy-data-icon");if(!e||e.dataset.copyBusy)return;let o=getCopyText(e);if(!o)return;e.dataset.copyBusy="1";let c=()=>{e.textContent="check",clearTimeout(e._copyTimer),e._copyTimer=setTimeout(()=>{e.textContent="content_copy",delete e.dataset.copyBusy},1200)};try{await navigator.clipboard.writeText(o),c()}catch{fallbackCopy(o)?c():delete e.dataset.copyBusy}});